(this["webpackJsonpthe-road"]=this["webpackJsonpthe-road"]||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},45:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c(2),a=c.n(s),r=c(15),i=c.n(r),o=(c(26),c(3)),h=c(4),l=c(6),u=c(16),j=c(17),d=c(20),b=c(19),p=(c(27),c(18)),O=c.n(p),S=function(e){var t=e.children,c=e.candApesiClick,s=e.className;return Object(n.jsx)("button",{onClick:c,type:"button",className:s,children:t})},m=function(e){e.placeholder;var t=e.onChange,c=e.value,s=(e.children,e.onSearchSubmit);return Object(n.jsx)("form",{onSubmit:s,children:Object(n.jsxs)("div",{className:"ui category search",children:[Object(n.jsx)("input",{onChange:t,value:c,type:"text",placeholder:"Search..."}),Object(n.jsx)(S,{candApesiClick:s,className:"ui secondary button",children:"Search"})]})})},f=function(e){var t=e.list,c=e.onDismiss;return Object(n.jsx)("div",{className:"table",children:t.map((function(e){return Object(n.jsxs)("div",{className:"table-row",children:[Object(n.jsx)("span",{style:{width:"40%"},children:Object(n.jsx)("a",{href:e.url,children:e.title})}),Object(n.jsx)("span",{style:{width:"30%"},children:e.author}),Object(n.jsx)("span",{style:{width:"10%"},children:e.num_comments}),Object(n.jsx)("span",{style:{width:"10%"},children:e.points}),Object(n.jsx)("span",{style:{width:"10%"},children:Object(n.jsx)(S,{candApesiClick:function(){return c(e.objectID)},className:"button-inline ",children:Object(n.jsx)("i",{className:"trash alternate outline icon"})})})]},e.objectID)}))})},v="https://hn.algolia.com/api/v1/",x="/search",g="query=",y="page=",T="hitsPerPage=",C=function(e){Object(d.a)(c,e);var t=Object(b.a)(c);function c(e){var n;return Object(u.a)(this,c),(n=t.call(this,e)).setSearchTopStories=function(e){var t=e.hits,c=e.page,s=n.state,a=s.searchKey,r=s.results,i=r&&r[a]?r[a].hits:[],u=[].concat(Object(l.a)(i),Object(l.a)(t));n.setState({results:Object(h.a)(Object(h.a)({},r),{},Object(o.a)({},a,{hits:u,page:c}))})},n.needsToSearchTopStories=function(e){return!n.state.results[e]},n.fetchSearchTopStories=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;O()("".concat(v).concat(x,"?").concat(g).concat(e,"&").concat(y).concat(t,"&").concat(T).concat("20")).then((function(e){return n.setSearchTopStories(e.data)})).catch((function(e){return n.setState({error:e})}))},n.onDismiss=function(e){var t=n.state,c=t.searchKey,s=t.results,a=s[c],r=a.hits,i=a.page,l=r.filter((function(t){return t.objectID!==e}));n.setState({results:Object(h.a)(Object(h.a)({},s),{},Object(o.a)({},c,{hits:l,page:i}))})},n.onSearchSubmit=function(e){var t=n.state.searchTerm;n.setState({searchKey:t}),n.needsToSearchTopStories(t)&&n.fetchSearchTopStories(t),e.preventDefault()},n.onSearchChange=function(e){n.setState({searchTerm:e.target.value})},n.state={results:null,searchKey:"",searchTerm:"",error:null},n}return Object(j.a)(c,[{key:"componentDidMount",value:function(){var e=this.state.searchTerm;this.setState({searchKey:e}),this.fetchSearchTopStories(e)}},{key:"render",value:function(){var e=this,t=this.state,c=t.results,s=t.searchTerm,a=t.searchKey,r=t.error,i=c&&c[a]&&c[a].page||0,o=c&&c[a]&&c[a].hits||[];return Object(n.jsxs)("div",{className:"page",children:[Object(n.jsx)("div",{className:"interactions",children:Object(n.jsx)(m,{placeholder:"e.g. React",onChange:this.onSearchChange,value:s,onSearchSubmit:this.onSearchSubmit,children:Object(n.jsx)("h1",{children:"Search"})})}),r?Object(n.jsx)("div",{className:"interactions",children:Object(n.jsx)("p",{children:"Ohh Noo. Something went wrong."})}):Object(n.jsx)(f,{list:o,onDismiss:this.onDismiss}),Object(n.jsx)("div",{className:"interactions",children:Object(n.jsx)(S,{className:"ui secondary button",candApesiClick:function(){return e.fetchSearchTopStories(a,i+1)},children:"More"})})]})}}]),c}(a.a.Component),N=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,46)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};i.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root")),N()}},[[45,1,2]]]);
//# sourceMappingURL=main.d11e570b.chunk.js.map